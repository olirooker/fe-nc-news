[{"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/index.js":"1","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/App.js":"2","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/api.js":"3","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/TopicsList.js":"4","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/ErrorMessage.js":"5","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/SignIn.js":"6","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/UsersList.js":"7","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/ArticlesList.js":"8","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/NewHeader.js":"9","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/SingleArticle.js":"10","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/Loading.js":"11","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/TopicCard.js":"12","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/ArticleCard.js":"13","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/ArticleAdder.js":"14","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/Query.js":"15","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/CommentsList.js":"16","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/Vote.js":"17","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/CommentAdder.js":"18","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/CommentCard.js":"19"},{"size":219,"mtime":1609420988335,"results":"20","hashOfConfig":"21"},{"size":1771,"mtime":1609422552909,"results":"22","hashOfConfig":"21"},{"size":2228,"mtime":1609417659332,"results":"23","hashOfConfig":"21"},{"size":1008,"mtime":1607524719603,"results":"24","hashOfConfig":"21"},{"size":182,"mtime":1607523729416,"results":"25","hashOfConfig":"21"},{"size":1390,"mtime":1608067194347,"results":"26","hashOfConfig":"21"},{"size":337,"mtime":1607432885217,"results":"27","hashOfConfig":"21"},{"size":2789,"mtime":1609419850464,"results":"28","hashOfConfig":"21"},{"size":6857,"mtime":1609422043733,"results":"29","hashOfConfig":"21"},{"size":3982,"mtime":1609348291515,"results":"30","hashOfConfig":"21"},{"size":157,"mtime":1607451669516,"results":"31","hashOfConfig":"21"},{"size":590,"mtime":1607641235033,"results":"32","hashOfConfig":"21"},{"size":2183,"mtime":1609422217530,"results":"33","hashOfConfig":"21"},{"size":2680,"mtime":1609420067681,"results":"34","hashOfConfig":"21"},{"size":1235,"mtime":1609417600875,"results":"35","hashOfConfig":"21"},{"size":2898,"mtime":1607696697584,"results":"36","hashOfConfig":"21"},{"size":7386,"mtime":1607638591767,"results":"37","hashOfConfig":"21"},{"size":1220,"mtime":1607640888683,"results":"38","hashOfConfig":"21"},{"size":2162,"mtime":1609416942623,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1mi71xq",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"42"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/index.js",[],["80","81"],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/App.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/api.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/TopicsList.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/ErrorMessage.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/SignIn.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/UsersList.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/ArticlesList.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/NewHeader.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/SingleArticle.js",["82"],"import React, { Component } from \"react\";\nimport { deleteArticle, getSingleArticle } from \"../api\";\nimport { Link } from \"@reach/router\";\nimport moment from \"moment\";\nimport CommentsList from \"./CommentsList\";\nimport Loading from \"./Loading\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport Vote from \"./Vote\";\nimport styled from \"styled-components\";\n\nconst SingleArticleContainer = styled.section`\n  margin: 1.5rem 0;\n  padding: 5px 10px;\n  background-color: white;\n  border: 1px solid lightgrey;\n  box-shadow: 3px 6px 8px #888888;\n  border-left: 5px solid green;\n`;\n\nclass SingleArticle extends Component {\n  state = {\n    article: {},\n    isLoading: true,\n    hasError: false,\n    errorMessage: \"\",\n    username: \"jessjelly\",\n    isDeleted: false,\n  };\n\n  componentDidMount() {\n    const { article_id } = this.props;\n    getSingleArticle(article_id)\n      .then((article) => {\n        this.setState({ article, isLoading: false });\n      })\n      .catch((err) => {\n        // console.dir(err);\n        const {\n          response: { status, statusText },\n        } = err;\n        // console.log(status)\n        // console.log(statusText)\n        this.setState({\n          hasError: true,\n          errorMessage: `Article not found ${status}. ${statusText}`,\n          isLoading: false,\n        });\n      });\n  }\n\n  handleClick = (event) => {\n    const { article_id } = this.state.article;\n    const { username } = this.state;\n\n    deleteArticle(article_id)\n      .then(() => {\n        this.setState((currentState) => {\n          return { article: {}, isDeleted: true };\n        });\n\n        // this.setState({ article: {}, isDeleted: true, })\n      })\n      .catch((err) => {\n        const {\n          response: { status, statusText },\n        } = err;\n        console.dir(err);\n        this.setState({\n          hasError: true,\n          errorMessage: `Unable to delete article ... ${status}. ${statusText}`,\n        });\n      });\n  };\n\n  render() {\n    const {\n      article,\n      isLoading,\n      hasError,\n      errorMessage,\n      username,\n      isDeleted,\n    } = this.state;\n    const { article_id } = this.props;\n\n    if (isLoading) {\n      return <Loading />;\n    } else if (hasError) {\n      return <ErrorMessage errorMessage={errorMessage} />;\n    } else {\n      return (\n        <main>\n          <SingleArticleContainer>\n            {isDeleted ? (\n              <div>\n                <p>This article has been deleted! Go to:</p>\n                <Link to={`/users/${username}/articles`}>My articles</Link>\n                <Link to=\"/\">All topics</Link>\n              </div>\n            ) : (\n              <div>\n                <div>\n                  <p>\n                    <Link to={`/${article.topic}/articles`}>\n                      {article.topic}\n                    </Link>\n                    . Posted by{\" \"}\n                    <Link to={`/users/${article.author}/articles`}>\n                      {article.author}\n                    </Link>{\" \"}\n                    {moment(article.created_at).fromNow()}\n                  </p>\n                  <Vote votes={article.votes} article_id={article_id} />\n                </div>\n\n                <div>\n                  <h2>{article.title}</h2>\n                  <p>{article.body}</p>\n                </div>\n\n                <div>\n                  <Link to={`/articles/${article.article_id}/comments`}>\n                    <p>{article.comment_count}</p>\n                  </Link>\n                </div>\n                <div>\n                  {article.author === username ? (\n                    <button onClick={this.handleClick}>Delete Article</button>\n                  ) : (\n                    <p hidden>cannot delete</p>\n                  )}\n                </div>\n              </div>\n            )}\n          </SingleArticleContainer>\n\n          <section>\n            <CommentsList article_id={article_id} />\n          </section>\n        </main>\n      );\n    }\n  }\n}\n\nexport default SingleArticle;\n","/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/Loading.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/TopicCard.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/ArticleCard.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/ArticleAdder.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/Query.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/CommentsList.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/Vote.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/CommentAdder.js",[],"/Users/olirooker/Documents/Northcoders/Frontend/fe-nc-news/src/components/CommentCard.js",[],{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","severity":1,"message":"88","line":53,"column":13,"nodeType":"89","messageId":"90","endLine":53,"endColumn":21},"no-native-reassign",["91"],"no-negated-in-lhs",["92"],"no-unused-vars","'username' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]